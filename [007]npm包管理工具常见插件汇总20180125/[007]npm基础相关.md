## 设置npm镜像源registry以及.npmrc的作用

.npmrc文件就是用来设置npm的镜像源registry，全局有，项目里面也会有，默认的镜像源registry是npm地址http://registry.npmjs.org

如果是只修改项目的镜像源registry，直接修改项目根目录下的.npmrc文件即可

如果是要修改全局的npm镜像源registry，最为简单的方法是使用nrm来设置，方便以后切换。

```javascript
//全局安装nrm
npm install -g nrm 

//添加各种npm镜像源
nrm add taobao https://registry.npm.taobao.org/

nrm add npm http://registry.npmjs.org

//切换npm镜像源
nrm use taobao

//查看当前npm镜像源
cat ~/.npmrc

```

## npm模块中的scope

scope是一种把相关的模块组织到一起的一种方式，也会在某些地方影响npm对模块的处理

package.json中,包含scope的包的name的写法如下:

```javascript

"name": "@somescope/somepackagename"

```

### 安装带有scope的模块

一般安装带有scope的模块时候,需要在.npmrc配置文件中设置相应@scopename的仓库地址(特别是自己的私人npm仓库时)

带有scope的模块安装在一个子目录中，如果正常的模块安装在node_modules/packagename目录下，那么带有scope的模块安装在node_modules/@myorg/packagename目录下，@myorg就是scope前面加上了@符号，一个scope中可以包含很多个模块。

## npm全局安装没有权限解决方法

官方给出的解决方案[https://docs.npmjs.com/getting-started/fixing-npm-permissions]就是重新安装nodejs或者自定义全局安装node module的目录，但是对于如果已经开发很长时间的电脑再重新指定的话，成本过高，所以，实际上还有第三种方案，就是将没有权限的目录赋予权限：

```bash
sudo chown -R $(whoami) $(npm config get prefix)/{lib/node_modules,bin,share}
```


